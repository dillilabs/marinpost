{% from "_submit.html" import categoryId %}
{% from "_macro.html" import errorList %}

<label for="primaryTopic">Primary Topic</label>
{% set primaryTopicId = entry is defined ? categoryId(entry, "primaryTopic") : 0 %}
<select id="primaryTopic" name="fields[primaryTopic][]" class="required">
  <option value=""></option>
{% for option in craft.categories.group('topics') %}
  <option value="{{ option.id }}" {%- if option.id == primaryTopicId %}selected{% endif %}>{{ option.title }}</option>
{% endfor %}
</select>
{% if entry is defined %}
  {{ errorList(entry.getErrors('primaryTopic')) }}
{% endif %}
<br>
